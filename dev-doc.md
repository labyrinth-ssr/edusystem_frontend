# 开发文档
## 功能
- 使用反向代理解决跨域问题。
- 登录界面在/login路径中。

## 知识点
- webpack、代理、nginx、RESTful API、ajax
- mvvm

----
登录拦截
登录成功，跳转到登录前页面。


知识点
- localStorage(类似缓存)
- hitstory模式
- vuex
![](https://v3.vuex.vuejs.org/vuex.png)
- 版本依赖：vuex3对应vue2

---
简单实现考虑：
前端并没有使用拦截器：路由守卫与storage
前端没有真正获取客户端的url。
导航栏写了，还没用。管理员和普通用户是毫无关联的两个home。

---
一些问题：寻找更常见合理的实现方法。
get传参还是post？怎样算安全？
开发环境没有域名。
若用户填完学号后把角色改为老师，不去点学号就不会提示错误。

---
前后端结合时遇到的问题：
没有约定好初始密码是什么，以及登录成功的判定规则是什么，以及某些变量比如login_status含义略有不清。

---
登录：
- 成功
- 失败
    - 没有账户
    - 密码错误
    - 初次登录:直接在登录界面弹出重置密码(虽然我认为这不符合逻辑...)
        - 修改密码正确：helloworld
        - 修改错误：停留

login 作为父组件：
- 输入错误后关闭：此时visible为false，但是父组件值依然为true.. 使用parent watch完成

10:09：
前端路由拦截，homepage
决定不为addUserForm设置路由，而是作为组件。
美化info
反正也不麻烦，今天一定能做完的吧？
需要想明白拦截器具体的机制。
token->user_id
后端没有cookie，前端使用localStorage

将home目录合并。
13:53
使用导航栏组件将student和admin归为统一页面，并且控制admin的导航栏。
使用/register 暂时作为权限请求。

未登录：NO_LOGIN
普通用户：NO_AUTHORITY
管理员：无拦截。

动态组件：：前端实现...
变化的导航栏：根据列表数据渲染。
列表数据的变化
14:35
配置menu
关于路由：成功登陆后指向同一个页面。
关于什么时候渲染：它应该是一个层级结构。暂时保持dialog单独一个页面。
同一页面应该长什么样子？
首先测试动态渲染的menu
16：16

导航栏信息：
- 管理：添加信息；修改密码
- 用户：修改密码
建议：后端动态菜单。
对于el-submenu的渲染
menu结构存在自身的data而非path里面。
理解嵌套路由：渲染时的组合：<view-router>
添加div后样式失效，发现是默认的div display的问题
